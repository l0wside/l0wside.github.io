<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>QVisu: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QVisu
   </div>
   <div id="projectbrief">Qt-based visualization for smart homes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">QVisu Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>CAUTION</h2>
<p>This is a preliminary version, which is known to have bugs. As it does not write anything to the local disk system (with the exception of the Google calendar element, which writes some values to the registry), it should not cause any major damage to the device it is running on. Still, you use it completely at your own risk. It can and will interact with your home automation, where it can potentially cause damage. You have been warned.</p>
<h2>License</h2>
<p>QVisu is licensed under GPL v2. The Websocket driver is licensed under LGPL v2.</p>
<h2>Scope</h2>
<p>QVisu lets you display the status of your smart home. Contrary to other approaches like <a href="http://www.cometvisu.org">CometVisu</a> and <a href="http://www.smartvisu.de">SmartVisu</a>, it is not browser-based, but a program of its own. It is based on the QT5 framework, making it portable across <a href="http://doc.qt.io/QtSupportedPlatforms/index.html">a wide range of platforms</a>.</p>
<p>The look of the visualization is inspired by the Windows 8 tiles.</p>
<p>Currently, only Windows binaries are provided. Other planned targets are Linux x86 (Ubuntu) and Linux armhf (Raspberry Pi). Anyone is more than welcome to generate Android, Mac, iOS, or other versions.</p>
<h2>Backend</h2>
<p>QVisu is currently set up to be used with the websocket driver of <a href="http://mknx.github.io/smarthome/">smarthome.py</a>. The driver should also work with the smartvisu driver of openHAB, but this is untested.</p>
<p>A KNX driver (which would not require an explicit backend like smarthome.py) is also planned, but not exactly a top priority.</p>
<h1>Configuration</h1>
<p>All configuration of QVisu is done in an XML file. The XML file has the following structure:</p>
<pre>
qvisu
  +- connection
  |
  + dimensions
  | +- w
  | +- h
  |
  +- path
  +- path
  +- ...
  |
  +- container
  |   +- element
  |   +- element
  |   + ...
  +- container
  |   +- element
  |   +- element
  |   + ...
  +- ...
 </pre><p>See the included qvisu.xml as an example. The elements are described below.</p>
<h2><code>&lt;connection&gt;</code></h2>
<p><b>Required</b></p>
<p>Describes the backend. Currently the only supported type is <em>smartvisu</em>.</p>
<h3>Syntax</h3>
<p>&lt;connection type="type" log="logfile"&gt;server:port&lt;/connection&gt;</p>
<table class="doxtable">
<tr>
<th>tag </th><th>comment  </th></tr>
<tr>
<td>type </td><td>Must be <em>smartvisu</em> </td></tr>
<tr>
<td>log </td><td>Optional. Log the data stream from the backend to <em>logfile</em>. Seems to be broken. </td></tr>
<tr>
<td>server:port </td><td>Your smarthome.py backend </td></tr>
</table>
<table class="doxtable">
<tr>
<td>type</td><td>Must be <em>smartvisu</em>  </td></tr>
<tr>
<td>log</td><td>Optional.   </td></tr>
<tr>
<td>server:port</td><td>Your smarthome.py backend  </td></tr>
</table>
<h2><code>&lt;dimensions&gt;</code></h2>
<p><b>Required</b></p>
<p>The elements of QVisu are aligned in a grid. With the sub-elements <em>w</em> and <em>h</em>, you define the grid size (w for width, h for height). QVisu will try to fill the screen with the grid, preserving the aspect ratio. When changing devices, you might need to change the grid dimensions.</p>
<p>Most elements are 2x2, so on a 16:9 monitor, w=16 and h=9 might be a reasonable starting point.</p>
<h3>Syntax</h3>
<pre>
&lt;dimensions&gt;
    &lt;w&gt;width&lt;/w&gt;
    &lt;h&gt;heigh&lt;/h&gt;
&lt;/dimensions&gt;
</pre><table class="doxtable">
<tr>
<th>node </th><th>comment  </th></tr>
<tr>
<td>w </td><td>Width of the grid. </td></tr>
<tr>
<td>h </td><td>Height of the grid. </td></tr>
</table>
<h2><code>&lt;path&gt;</code></h2>
<p><b>Optional</b></p>
<p>Defines the search paths for external files (mainly image files). If you have placed your SVG images somewhere else than the directory you are starting QVisu from, this is helpful.</p>
<p>You can use any number of &lt;path&gt; entries.</p>
<h3>Syntax</h3>
<p>&lt;path&gt;Search Path&lt;/path&gt;</p>
<h2><code>&lt;container&gt;</code></h2>
<p><b>Required</b></p>
<p>The container is the central grouping element in QVisu. All elements which are inside a container are displayed simultaneously. Only one container is displayed at a time.</p>
<p>There are no special restrictions on container names (except that they must be unique). However, there are two special container names:</p><ul>
<li>main - this is the container which is displayed at startup. A container named <em>main</em> <b>must</b> be contained in the XML file, otherwise QVisu will refuse to start.</li>
<li>permanent - elements inside this container will always be displayed. Intended for navigation and status elements.</li>
</ul>
<h3>Syntax</h3>
<pre>
&lt;container name="name"&gt;
    &lt;element&gt;...&lt;/element&gt;
    &lt;element&gt;...&lt;/element&gt;
    ...
&lt;/container&gt;
</pre><table class="doxtable">
<tr>
<th>tag </th><th>comment  </th></tr>
<tr>
<td>name </td><td>Container name </td></tr>
</table>
<h2><code>&lt;element&gt;</code></h2>
<p>The functionality of QVisu is contained in its elements. Currently, the following elements are available:</p><ul>
<li>Selector</li>
<li>Switch</li>
<li>Status</li>
<li>Dimmer</li>
<li>Heating</li>
<li>Shutter</li>
<li>Plot</li>
<li>Weather (based on yr.no)</li>
<li>Fritz!Box call list</li>
<li>Google Calendar</li>
<li>Video (based on VLC)</li>
</ul>
<p>See the element-specific pages for more details. If you find out how to link directly to these pages in Doxygen 1.8.6, let me know.</p>
<h3>Syntax</h3>
<pre>
&lt;element type="element type" position="x,y" width="w" height="h"&gt;
    ...
&lt;/element&gt;
</pre><table class="doxtable">
<tr>
<th>tag </th><th>comment  </th></tr>
<tr>
<td>element type </td><td>See element-specific description </td></tr>
<tr>
<td>position </td><td>Defines the upper left corner in the grid. Make sure the element is completely inside the grid, otherwise placement will fail </td></tr>
<tr>
<td>width </td><td>Width of the element. May be overridden, depending on the element. </td></tr>
<tr>
<td>height </td><td>Height of the element. May be overridden, depending on the element. </td></tr>
</table>
<p>Some element types might define additional tags.</p>
<h3>Common tags and child nodes for all elements</h3>
<h4>Items</h4>
<p>Data values in QVisu are called items (as they are in smarthome.py). There is no particular naming convention for items, but the item names should match those which you use in your backend (typically smarthome.py).</p>
<p>When you change an item in QVisu (e.g. by pressing a button), it is updated in the backend. When an item is sent from the backend, the value is distributed to all elements and displayed by those where it is specified in the configuration.</p>
<h4>Default Items</h4>
<p>QVisu generates a number of internal items, which can be displayed as any other (but should not be modified by elements):</p><ul>
<li><code>#time</code> - current time in hh:mm format</li>
<li><code>#time-seconds</code> - current time in hh:mm:ss format</li>
<li><code>#date-de</code> - current date in dd.mm.yyyy format</li>
<li><code>#date-int</code> - current date in yyyy-mm-dd format</li>
<li><code>#date-de-weekday</code> - current date with weekday in dd.mm.yyyy format, e.g. Mo 06.07.2015</li>
<li><code>#date-int-weekday</code> - current date with weekday in yyyy-mm-dd format, e.g. Mo 2015-07-06</li>
<li>_** Insert status items here **_</li>
</ul>
<h4>Standard colors</h4>
<p>You have two ways to specify a color:</p><ul>
<li>Using the <code>#xxxxxxxx</code> color code known from HTML. <code>#FFFFFF</code> is white, <code>#000000</code> is black.</li>
<li>Using the predefined color list, which is also based on Windows 8 <div class="image">
<img src="win-colors.jpg"  alt="Predefined Colors"/>
</div>
</li>
</ul>
<h4>Font color</h4>
<p>The font color is calculated based on the gray tone (i.e. brightness) of the background. On light backgrounds, it is set to black. On light backgrounds, it is set to white.</p>
<h4>Icons</h4>
<p>QVisu only supports SVG graphics. Pixel graphics like PNG, JPG, GIF, ICO are not supported.</p>
<p>Icons which represent a status (i.e. on/off) can be specified in a number of ways.</p>
<ul>
<li><p class="startli">The easiest way is simply</p>
<p class="startli"><code>&lt;sw-icon&gt;my_icon.svg&lt;/sw-icon&gt;</code></p>
<p class="startli">In off-state, QVisu will then display the icon as-is. In on state, it will try to recolor the SVG to orange.</p>
</li>
<li><p class="startli">You can specify two icons for on and off state, simply separated by a comma:</p>
<p class="startli"><code>&lt;sw-icon&gt;icon_off.svg,icon_on.svg&lt;/sw-icon&gt;</code></p>
</li>
<li><p class="startli">Automatic recoloring:</p>
<p class="startli"><code>&lt;sw-icon color="..." active-color="..." color-mode="..."&gt;my_icon.svg&lt;/sw-icon&gt;</code></p>
</li>
</ul>
<table class="doxtable">
<tr>
<th>tag </th><th>comment  </th></tr>
<tr>
<td>color </td><td>default icon color (when off). Default is white. </td></tr>
<tr>
<td>active-color </td><td>icon color in on mode. Default is orange. </td></tr>
<tr>
<td>color-mode </td><td>Advanced use only, see below </td></tr>
</table>
<p><code>color-mode</code> states how the color inside the SVG is modified:</p><ul>
<li>color-mode="stroke": All strokes inside the SVG are recolored.</li>
<li>color-mode="fill": All fill colors inside the SVG are recolored</li>
<li>color-mode="all": Both stroke and fill colors inside the SVG are recolored</li>
<li>color-mode="replace": This is the default. QVisu tries to guess the standard color in the SVG and then replaces it. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jul 7 2015 22:36:35 for QVisu by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
